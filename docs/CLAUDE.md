# ä¸ªäººåŠ©æ‰‹ - é¡¹ç›®è¯´æ˜ä¹¦

> ğŸ“˜ **Claude AI å¼€å‘æŒ‡å—** - æœ¬æ–‡æ¡£ä¸º AI åŠ©æ‰‹æä¾›å®Œæ•´çš„é¡¹ç›®ä¸Šä¸‹æ–‡å’Œå¼€å‘è§„èŒƒ

---

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

### é¡¹ç›®ä¿¡æ¯

| å±æ€§         | å€¼                                |
| ------------ | --------------------------------- |
| **é¡¹ç›®åç§°** | ä¸ªäººåŠ©æ‰‹                          |
| **é¡¹ç›®ç±»å‹** | Web åº”ç”¨ (ç®—æ³•å­¦ä¹ ç®¡ç†ç³»ç»Ÿ)       |
| **å¼€å‘é˜¶æ®µ** | ä» 0 åˆ° 1 å¼€å‘                    |
| **æŠ€æœ¯æ ˆ**   | Vue 3 + TypeScript + Tailwind CSS |
| **å¼€å‘æ¨¡å¼** | æ¨¡å—åŒ–å¼€å‘ï¼ŒAI è¾…åŠ©ç¼–ç            |

### é¡¹ç›®ç®€ä»‹

è¿™æ˜¯ä¸€ä¸ªé¢å‘æ•™è‚²æœºæ„çš„ä¸ªäººåŠ©æ‰‹ï¼Œä¸»è¦åŠŸèƒ½åŒ…æ‹¬ï¼š

- å­¦ç”Ÿæ³¨å†Œ/ç™»å½•ç³»ç»Ÿ
- OJï¼ˆOnline Judgeï¼‰è´¦å·ç»‘å®šï¼ˆæ´›è°·ã€åŠ›æ‰£ï¼‰
- åˆ·é¢˜æ•°æ®è‡ªåŠ¨åŒæ­¥
- ç®—æ³•æ’è¡Œæ¦œå±•ç¤º
- ä¸ªäººå­¦ä¹ è¿›åº¦å¯è§†åŒ–

### æ ¸å¿ƒä»·å€¼

- **å¯¹å­¦ç”Ÿ**ï¼šå¯è§†åŒ–å­¦ä¹ æˆæœï¼Œä¸åŒå­¦è‰¯æ€§ç«äº‰
- **å¯¹æ•™å¸ˆ**ï¼šå®æ—¶æŒæ¡å…¨ç­å­¦ä¹ è¿›åº¦ï¼Œé™ä½ç®¡ç†æˆæœ¬
- **å¯¹æœºæ„**ï¼šæ²‰æ·€æ•™å­¦æ•°æ®èµ„äº§ï¼Œæå‡ç®¡ç†æ•ˆç‡

---

## ğŸ¯ UI è®¾è®¡å‚è€ƒ

### è®¾è®¡æ–‡ä»¶

- **UI åŸå‹**ï¼š`./UIäº¤äº’é¢„è§ˆ.html`
- **UI éœ€æ±‚æ–‡æ¡£**ï¼š`./UIéœ€æ±‚ä¸ä¼˜åŒ–è®°å½•.md`

### é¡µé¢ç»“æ„

#### 1. ç™»å½•/æ³¨å†Œé¡µé¢

- **è½®æ’­èƒŒæ™¯**ï¼š4ç§’è‡ªåŠ¨åˆ‡æ¢ï¼Œæ·¡å…¥æ·¡å‡º
  - ä½¿ç”¨ `<img>` æ ‡ç­¾æ˜¾ç¤ºå›¾ç‰‡
  - å¼€å‘é˜¶æ®µå¯ç”¨æ¸å˜è‰²ä»£æ›¿
  - æ— æ§åˆ¶æŒ‰é’®ï¼ˆæ— å·¦å³ç®­å¤´ã€æ— æŒ‡ç¤ºå™¨ç‚¹ï¼‰
- **ç™»å½•æ¡†**ï¼šå±…ä¸­æ˜¾ç¤ºï¼ŒåŠé€æ˜ç™½è‰²èƒŒæ™¯
- **è¡¨å•åˆ‡æ¢**ï¼šåº•éƒ¨æ–‡å­—é“¾æ¥åˆ‡æ¢ç™»å½•/æ³¨å†Œ

#### 2. é¦–é¡µï¼ˆç™»å½•åï¼‰

- **Header Bar**ï¼šé»˜è®¤éšè—ï¼Œé¡¶éƒ¨å°æŒ‰é’®è§¦å‘æ˜¾ç¤º
- **å¡ç‰‡å¸ƒå±€**ï¼šä¸‰ä¸ªå¡ç‰‡å‚ç›´æ°´å¹³å±…ä¸­
  - å·¦ä¸Šï¼šæ´›è°·ç»‘å®šå¡ç‰‡ï¼ˆ320pxé«˜ï¼‰
  - å·¦ä¸‹ï¼šåŠ›æ‰£ç»‘å®šå¡ç‰‡ï¼ˆ320pxé«˜ï¼‰
  - å³ä¾§ï¼šæ’è¡Œæ¦œå¡ç‰‡ï¼ˆ660pxé«˜ï¼‰
- **å¡ç‰‡ç¿»è½¬**ï¼š3Dç¿»è½¬åŠ¨ç”»ï¼Œæ­£é¢è¾“å…¥ï¼Œåé¢å±•ç¤ºæ•°æ®

### è®¾è®¡è§„èŒƒ

```typescript
// é¢œè‰²ç³»ç»Ÿ
const colors = {
  primary: "#1890FF", // å“ç‰Œè“
  success: "#52C41A", // æˆåŠŸç»¿
  warning: "#FAAD14", // è­¦å‘Šæ©™
  error: "#F5222D", // é”™è¯¯çº¢
  text: {
    primary: "#262626", // ä¸»è¦æ–‡å­—
    secondary: "#595959", // æ¬¡è¦æ–‡å­—
    tertiary: "#8C8C8C", // è¾…åŠ©æ–‡å­—
  },
  border: "#D9D9D9",
  background: "#F5F5F5",
};

// å­—ä½“å¤§å°
const fontSize = {
  h1: "24px",
  h2: "18px",
  h3: "16px",
  body: "14px",
  caption: "12px",
};

// åœ†è§’
const borderRadius = {
  card: "12px",
  button: "6px",
  input: "6px",
};

// é˜´å½±
const shadow = {
  card: "0 2px 8px rgba(0,0,0,0.08)",
  hover: "0 4px 16px rgba(0,0,0,0.12)",
};
```

---

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### å‰ç«¯æ¡†æ¶

- **Vue 3.4+**ï¼šComposition API
- **TypeScript 5.0+**ï¼šä¸¥æ ¼ç±»å‹æ£€æŸ¥
- **Vite 5.0+**ï¼šæ„å»ºå·¥å…·

### UI æ¡†æ¶

- **Tailwind CSS 3.4+**ï¼šåŸå­åŒ– CSS
- **Headless UI**ï¼šæ— æ ·å¼ç»„ä»¶åº“ï¼ˆå¯é€‰ï¼‰

### çŠ¶æ€ç®¡ç†

- **Pinia 2.1+**ï¼šVue å®˜æ–¹çŠ¶æ€ç®¡ç†

### è·¯ç”±

- **Vue Router 4.2+**ï¼šå•é¡µåº”ç”¨è·¯ç”±

### HTTP å®¢æˆ·ç«¯

- **Axios 1.6+**ï¼šHTTP è¯·æ±‚åº“

### æ•°æ®ç¼“å­˜

- **Pinia Persist**ï¼šçŠ¶æ€æŒä¹…åŒ–

### è¡¨å•éªŒè¯

- **Vee-Validate 4.12+**ï¼šè¡¨å•éªŒè¯
- **Yup**ï¼šSchema éªŒè¯

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
algorithm-platform/
â”œâ”€â”€ public/
â”‚   â””â”€â”€ favicon.ico
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ assets/              # é™æ€èµ„æº
â”‚   â”‚   â”œâ”€â”€ images/
â”‚   â”‚   â””â”€â”€ styles/
â”‚   â”œâ”€â”€ components/          # å…¬å…±ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ common/         # é€šç”¨ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ Button/
â”‚   â”‚   â”‚   â”œâ”€â”€ Input/
â”‚   â”‚   â”‚   â”œâ”€â”€ Modal/
â”‚   â”‚   â”‚   â””â”€â”€ Loading/
â”‚   â”‚   â”œâ”€â”€ layout/         # å¸ƒå±€ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ HeaderBar.vue
â”‚   â”‚   â”‚   â””â”€â”€ PageLayout.vue
â”‚   â”‚   â””â”€â”€ business/       # ä¸šåŠ¡ç»„ä»¶
â”‚   â”‚       â”œâ”€â”€ OJCard/
â”‚   â”‚       â”‚   â”œâ”€â”€ LuoguCard.vue
â”‚   â”‚       â”‚   â”œâ”€â”€ LeetCodeCard.vue
â”‚   â”‚       â”‚   â””â”€â”€ types.ts
â”‚   â”‚       â”œâ”€â”€ Leaderboard/
â”‚   â”‚       â”‚   â”œâ”€â”€ LeaderboardCard.vue
â”‚   â”‚       â”‚   â””â”€â”€ types.ts
â”‚   â”‚       â””â”€â”€ Carousel/
â”‚   â”‚           â””â”€â”€ BackgroundCarousel.vue
â”‚   â”œâ”€â”€ composables/        # ç»„åˆå¼å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ useAuth.ts
â”‚   â”‚   â”œâ”€â”€ useOJBinding.ts
â”‚   â”‚   â””â”€â”€ useCarousel.ts
â”‚   â”œâ”€â”€ router/             # è·¯ç”±é…ç½®
â”‚   â”‚   â”œâ”€â”€ index.ts
â”‚   â”‚   â””â”€â”€ guards.ts
â”‚   â”œâ”€â”€ services/           # API æœåŠ¡å±‚
â”‚   â”‚   â”œâ”€â”€ api.ts          # API åŸºç¡€é…ç½®
â”‚   â”‚   â”œâ”€â”€ auth.service.ts
â”‚   â”‚   â”œâ”€â”€ oj.service.ts
â”‚   â”‚   â””â”€â”€ types.ts
â”‚   â”œâ”€â”€ stores/             # Pinia çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ auth.ts
â”‚   â”‚   â”œâ”€â”€ user.ts
â”‚   â”‚   â””â”€â”€ oj.ts
â”‚   â”œâ”€â”€ types/              # å…¨å±€ç±»å‹å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ auth.types.ts
â”‚   â”‚   â”œâ”€â”€ oj.types.ts
â”‚   â”‚   â””â”€â”€ common.types.ts
â”‚   â”œâ”€â”€ utils/              # å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ request.ts     # Axios å°è£…
â”‚   â”‚   â”œâ”€â”€ storage.ts     # æœ¬åœ°å­˜å‚¨
â”‚   â”‚   â”œâ”€â”€ validate.ts    # éªŒè¯å‡½æ•°
â”‚   â”‚   â””â”€â”€ format.ts      # æ ¼å¼åŒ–å‡½æ•°
â”‚   â”œâ”€â”€ views/              # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Auth/
â”‚   â”‚   â”‚   â”œâ”€â”€ LoginView.vue
â”‚   â”‚   â”‚   â””â”€â”€ RegisterView.vue
â”‚   â”‚   â””â”€â”€ Home/
â”‚   â”‚       â””â”€â”€ HomeView.vue
â”‚   â”œâ”€â”€ App.vue
â”‚   â””â”€â”€ main.ts
â”œâ”€â”€ .env.development        # å¼€å‘ç¯å¢ƒå˜é‡
â”œâ”€â”€ .env.production         # ç”Ÿäº§ç¯å¢ƒå˜é‡
â”œâ”€â”€ .eslintrc.cjs           # ESLint é…ç½®
â”œâ”€â”€ .prettierrc             # Prettier é…ç½®
â”œâ”€â”€ index.html
â”œâ”€â”€ package.json
â”œâ”€â”€ tailwind.config.js      # Tailwind é…ç½®
â”œâ”€â”€ tsconfig.json           # TypeScript é…ç½®
â””â”€â”€ vite.config.ts          # Vite é…ç½®
```

---

## ğŸ“ ä»£ç è§„èŒƒ

### å‘½åè§„èŒƒ

#### æ–‡ä»¶å‘½å

```
ç»„ä»¶æ–‡ä»¶ï¼šPascalCase.vue        ä¾‹ï¼šUserProfile.vue
å·¥å…·æ–‡ä»¶ï¼šcamelCase.ts          ä¾‹ï¼šformatDate.ts
ç±»å‹æ–‡ä»¶ï¼šcamelCase.types.ts   ä¾‹ï¼šuser.types.ts
æ ·å¼æ–‡ä»¶ï¼šcamelCase.module.css  ä¾‹ï¼šcard.module.css
```

#### å˜é‡å‘½å

```typescript
// ç»„ä»¶åï¼šPascalCase
const UserProfile: Component = ...

// å‡½æ•°åï¼šcamelCase
function fetchUserData() {}
const handleSubmit = () => {}

// å¸¸é‡ï¼šUPPER_SNAKE_CASE
const API_BASE_URL = 'https://api.example.com'

// æ¥å£/ç±»å‹ï¼šPascalCase
interface UserInfo {}
type UserRole = 'student' | 'teacher'

// å¸ƒå°”å€¼ï¼šis/has/should å‰ç¼€
const isLoading = false
const hasError = true
const shouldUpdate = true
```

### ç»„ä»¶è§„èŒƒ

#### ç»„ä»¶å®šä¹‰

```vue
<script setup lang="ts">
// 1. å¯¼å…¥ä¾èµ–
import { ref, computed, onMounted } from "vue";
import { useRouter } from "vue-router";

// 2. å®šä¹‰ Propsï¼ˆwithDefaultsï¼‰
interface Props {
  title: string;
  count?: number;
}
const props = withDefaults(defineProps<Props>(), {
  count: 0,
});

// 3. å®šä¹‰ Emits
interface Emits {
  (e: "update", value: string): void;
  (e: "delete", id: number): void;
}
const emit = defineEmits<Emits>();

// 4. å“åº”å¼æ•°æ®
const isLoading = ref(false);
const dataList = ref<Item[]>([]);

// 5. è®¡ç®—å±æ€§
const totalCount = computed(() => dataList.value.length);

// 6. æ–¹æ³•
const fetchData = async () => {
  try {
    isLoading.value = true;
    // API è°ƒç”¨
  } catch (error) {
    console.error("è·å–æ•°æ®å¤±è´¥:", error);
  } finally {
    isLoading.value = false;
  }
};

// 7. ç”Ÿå‘½å‘¨æœŸ
onMounted(() => {
  fetchData();
});
</script>

<template>
  <div class="component-name">
    <!-- æ¨¡æ¿å†…å®¹ -->
  </div>
</template>

<style scoped lang="scss">
/* ä½¿ç”¨ Tailwind ç±»ï¼Œå¤æ‚åŠ¨ç”»ç”¨ CSS */
</style>
```

### TypeScript è§„èŒƒ

#### ç±»å‹å®šä¹‰

```typescript
// âœ… æ¨èï¼šæ˜ç¡®çš„ç±»å‹å®šä¹‰
interface User {
  id: number;
  name: string;
  email: string;
  role: "student" | "teacher";
}

// âŒ ç¦æ­¢ï¼šä½¿ç”¨ any
const data: any = fetchData();

// âœ… æ¨èï¼šæ³›å‹ä½¿ç”¨
function fetchData<T>(url: string): Promise<T> {
  return axios.get<T>(url);
}

// âœ… æ¨èï¼šè”åˆç±»å‹
type Status = "pending" | "success" | "error";

// âœ… æ¨èï¼šæšä¸¾
enum UserRole {
  Student = "student",
  Teacher = "teacher",
}
```

### API è¯·æ±‚è§„èŒƒ

#### æ ¸å¿ƒåŸåˆ™

**é‡è¦**ï¼š

1. âœ… **Service å±‚åªè´Ÿè´£çº¯ API è°ƒç”¨**ï¼Œä¸å¤„ç†ä¸šåŠ¡é€»è¾‘
2. âœ… **401 é”™è¯¯ç»Ÿä¸€åœ¨ axios æ‹¦æˆªå™¨ä¸­å¤„ç†**ï¼ˆè‡ªåŠ¨åˆ·æ–° Tokenï¼‰
3. âœ… **ä¸šåŠ¡é€»è¾‘åœ¨é¡µé¢/ç»„ä»¶ä¸­å¤„ç†**ï¼ˆé”™è¯¯æç¤ºã€è·³è½¬ã€çŠ¶æ€æ›´æ–°ï¼‰
4. âŒ **ç¦æ­¢åœ¨ Service ä¸­ä½¿ç”¨ `try-catch` åŒ…è£…ä¸šåŠ¡é€»è¾‘**

#### Axios å°è£…ï¼ˆutils/request.tsï¼‰

```typescript
// utils/request.ts
import axios, {
  type AxiosInstance,
  type AxiosError,
  type InternalAxiosRequestConfig,
} from "axios";
import type { ApiResponse } from "@/types/common.types";

// åˆ›å»º axios å®ä¾‹
const apiClient: AxiosInstance = axios.create({
  baseURL: import.meta.env.VITE_API_BASE_URL || "http://localhost:8080",
  timeout: 10000,
  headers: {
    "Content-Type": "application/json",
  },
});

// è¯·æ±‚æ‹¦æˆªå™¨
apiClient.interceptors.request.use(
  (config: InternalAxiosRequestConfig) => {
    const token = localStorage.getItem("access_token");
    if (token) {
      config.headers.Authorization = `Bearer ${token}`;
    }
    return config;
  },
  (error: AxiosError) => Promise.reject(error),
);

// å“åº”æ‹¦æˆªå™¨
apiClient.interceptors.response.use(
  (response) => response.data,
  async (error: AxiosError) => {
    const { response, config } = error;

    // 401 é”™è¯¯ç»Ÿä¸€å¤„ç†ï¼šè‡ªåŠ¨åˆ·æ–° Token
    if (response?.status === 401 && !config?._retry) {
      config._retry = true;

      try {
        // è°ƒç”¨åˆ·æ–° Token æ¥å£
        const refreshResponse = await axios.get(
          `${apiClient.defaults.baseURL}/refreshToken`,
          {
            withCredentials: true, // å…è®¸æºå¸¦ Cookie
          },
        );

        const { access_token, access_token_expires_at } =
          refreshResponse.data.data;

        // æ›´æ–°æœ¬åœ° Token
        localStorage.setItem("access_token", access_token);

        // æ›´æ–°è¯·æ±‚å¤´
        if (config.headers) {
          config.headers.Authorization = `Bearer ${access_token}`;
        }

        // é‡è¯•åŸè¯·æ±‚
        return apiClient(config);
      } catch (refreshError) {
        // åˆ·æ–°å¤±è´¥ï¼Œæ¸…é™¤æœ¬åœ°å­˜å‚¨ï¼Œè·³è½¬ç™»å½•é¡µ
        localStorage.removeItem("access_token");
        window.location.href = "/login";
        return Promise.reject(refreshError);
      }
    }

    // å…¶ä»–é”™è¯¯ç›´æ¥æŠ›å‡º
    return Promise.reject(error);
  },
);

export default apiClient;
```

#### Service å±‚è§„èŒƒ

**Service å±‚èŒè´£**ï¼š

- âœ… è°ƒç”¨ API æ¥å£
- âœ… è¿”å›ç±»å‹åŒ–çš„æ•°æ®
- âŒ **ä¸å¤„ç†é”™è¯¯**ï¼ˆè®©é”™è¯¯æŠ›å‡ºåˆ°é¡µé¢/ç»„ä»¶ï¼‰
- âŒ **ä¸æ˜¾ç¤ºæç¤ºä¿¡æ¯**ï¼ˆMessage/Toast åœ¨é¡µé¢ä¸­å¤„ç†ï¼‰
- âŒ **ä¸è·³è½¬è·¯ç”±**ï¼ˆè·¯ç”±è·³è½¬åœ¨é¡µé¢ä¸­å¤„ç†ï¼‰
- âŒ **ä¸æ›´æ–°çŠ¶æ€**ï¼ˆçŠ¶æ€æ›´æ–°åœ¨ Pinia store ä¸­å¤„ç†ï¼‰

```typescript
// services/auth.service.ts
import apiClient from "@/utils/request";
import type {
  LoginRequest,
  LoginResponse,
  RegisterRequest,
  CaptchaResponse,
} from "./types";

/**
 * è®¤è¯æœåŠ¡
 * Service å±‚åªè´Ÿè´£ API è°ƒç”¨ï¼Œä¸å¤„ç†ä¸šåŠ¡é€»è¾‘
 */
export const authService = {
  /**
   * ç”¨æˆ·ç™»å½•
   * @param data ç™»å½•ä¿¡æ¯
   * @returns Promise<LoginResponse>
   */
  login(data: LoginRequest): Promise<LoginResponse> {
    return apiClient.post<LoginResponse, ApiResponse<LoginResponse>>(
      "/user/login",
      data,
    );
  },

  /**
   * ç”¨æˆ·æ³¨å†Œ
   * @param data æ³¨å†Œä¿¡æ¯
   * @returns Promise<LoginResponse>
   */
  register(data: RegisterRequest): Promise<LoginResponse> {
    return apiClient.post<LoginResponse, ApiResponse<LoginResponse>>(
      "/user/register",
      data,
    );
  },

  /**
   * ç”¨æˆ·ç™»å‡º
   * @returns Promise<void>
   */
  logout(): Promise<void> {
    return apiClient.post<void, ApiResponse<void>>("/user/logout");
  },

  /**
   * è·å–éªŒè¯ç 
   * @returns Promise<CaptchaResponse>
   */
  getCaptcha(): Promise<CaptchaResponse> {
    return apiClient.post<CaptchaResponse, ApiResponse<CaptchaResponse>>(
      "/base/captcha",
    );
  },
};

// services/oj.service.ts
import apiClient from "@/utils/request";
import type { OJBindRequest, OJBindResponse, LeaderboardItem } from "./types";

/**
 * OJ æœåŠ¡
 * Service å±‚åªè´Ÿè´£ API è°ƒç”¨ï¼Œä¸å¤„ç†ä¸šåŠ¡é€»è¾‘
 */
export const ojService = {
  /**
   * ç»‘å®š OJ è´¦å·
   * @param data OJ ç»‘å®šä¿¡æ¯
   * @returns Promise<OJBindResponse>
   */
  bindOJ(data: OJBindRequest): Promise<OJBindResponse> {
    return apiClient.post<OJBindResponse, ApiResponse<OJBindResponse>>(
      "/oj/bind",
      data,
    );
  },

  /**
   * è·å–æ’è¡Œæ¦œ
   * @param platform å¹³å°åç§°
   * @returns Promise<LeaderboardItem[]>
   */
  getLeaderboard(platform: "luogu" | "leetcode"): Promise<LeaderboardItem[]> {
    return apiClient.get<LeaderboardItem[], ApiResponse<LeaderboardItem[]>>(
      `/oj/leaderboard/${platform}`,
    );
  },
};

// services/org.service.ts
import apiClient from "@/utils/request";
import type { OrgListResponse, OrgListParams } from "./types";

/**
 * ç»„ç»‡æœåŠ¡
 */
export const orgService = {
  /**
   * è·å–ç»„ç»‡åˆ—è¡¨
   * @param params åˆ†é¡µå‚æ•°
   * @returns Promise<OrgListResponse>
   */
  getList(params?: OrgListParams): Promise<OrgListResponse> {
    return apiClient.get<OrgListResponse, ApiResponse<OrgListResponse>>(
      "/org/list",
      { params },
    );
  },
};
```

#### åœ¨é¡µé¢/ç»„ä»¶ä¸­å¤„ç†ä¸šåŠ¡é€»è¾‘

```typescript
// âŒ é”™è¯¯ï¼šåœ¨ Service ä¸­å¤„ç†ä¸šåŠ¡é€»è¾‘
export const authService = {
  async login(data: LoginRequest): Promise<LoginResponse> {
    try {
      const response = await apiClient.post('/user/login', data)
      Message.success('ç™»å½•æˆåŠŸ')  // âŒ ä¸åœ¨è¿™é‡Œå¤„ç†
      router.push('/home')          // âŒ ä¸åœ¨è¿™é‡Œè·³è½¬
      return response
    } catch (error) {
      Message.error('ç™»å½•å¤±è´¥')    // âŒ ä¸åœ¨è¿™é‡Œæç¤º
      throw error
    }
  }
}

// âœ… æ­£ç¡®ï¼šåœ¨é¡µé¢ä¸­å¤„ç†ä¸šåŠ¡é€»è¾‘
<script setup lang="ts">
import { ref } from 'vue'
import { useRouter } from 'vue-router'
import { authService } from '@/services/auth.service'
import { useAuthStore } from '@/stores/auth'
import { Message } from '@/utils/message'  // å‡è®¾æœ‰ Message å·¥å…·

const router = useRouter()
const authStore = useAuthStore()

const handleLogin = async (data: LoginRequest) => {
  try {
    // Service å±‚åªè´Ÿè´£ API è°ƒç”¨
    const response = await authService.login(data)

    // ä¸šåŠ¡é€»è¾‘åœ¨é¡µé¢ä¸­å¤„ç†
    authStore.setUser(response.user)
    authStore.setToken(response.access_token)

    Message.success('ç™»å½•æˆåŠŸ')
    router.push('/home')
  } catch (error: any) {
    // é”™è¯¯å¤„ç†åœ¨é¡µé¢ä¸­å¤„ç†
    const message = error.response?.data?.message || 'ç™»å½•å¤±è´¥ï¼Œè¯·æ£€æŸ¥æ‰‹æœºå·å’Œå¯†ç '
    Message.error(message)
  }
}
</script>
```

### Tailwind CSS è§„èŒƒ

```vue
<template>
  <!-- âœ… æ¨èï¼šä½¿ç”¨ Tailwind å·¥å…·ç±» -->
  <div
    class="flex items-center justify-between p-4 bg-white rounded-lg shadow-md"
  >
    <h2 class="text-lg font-semibold text-gray-900">æ ‡é¢˜</h2>
    <button
      class="px-4 py-2 text-sm text-white bg-blue-500 rounded hover:bg-blue-600"
    >
      æŒ‰é’®
    </button>
  </div>

  <!-- âŒ é¿å…ï¼šå†…è”æ ·å¼ -->
  <div style="display: flex; padding: 16px;">...</div>
</template>

<!-- å¯¹äºå¤æ‚åŠ¨ç”»ï¼Œä½¿ç”¨ CSS Modules -->
<style scoped lang="scss">
@keyframes flip {
  0% {
    transform: rotateY(0deg);
  }
  100% {
    transform: rotateY(180deg);
  }
}

.flip-card {
  animation: flip 0.6s ease-in-out;
}
</style>
```

---

## ğŸ” ç±»å‹å®šä¹‰

### æ ¸å¿ƒç±»å‹

```typescript
// types/auth.types.ts
export interface LoginRequest {
  phone: string;
  password: string;
  captcha: string;
  captchaId: string;
}

export interface RegisterRequest {
  username: string;
  phone: string;
  password: string;
  captcha: string;
  captchaId: string;
  orgId?: number;
}

export interface LoginResponse {
  user: User;
  accessToken: string;
  accessTokenExpiresAt: number;
}

export interface User {
  id: number;
  username: string;
  phone: string;
  avatar?: string;
  createdAt: string;
}

// types/oj.types.ts
export interface OJBindRequest {
  platform: "luogu" | "leetcode";
  identifier: string;
}

export interface OJBindResponse {
  platform: string;
  identifier: string;
  realName: string;
  userAvatar: string;
  passedNumber: number;
  easyNumber: number;
  mediumNumber: number;
  hardNumber: number;
  totalNumber: number;
}

export interface OJUser {
  id: number;
  userId: number;
  platform: "luogu" | "leetcode";
  identifier: string;
  realName: string;
  userAvatar: string;
  passedNumber: number;
  easyNumber: number;
  mediumNumber: number;
  hardNumber: number;
  totalNumber: number;
  ranking?: number;
  createdAt: string;
}

export interface LeaderboardItem {
  rank: number;
  userId: number;
  username: string;
  avatar: string;
  passedNumber: number;
  isCurrentUser: boolean;
}

// types/common.types.ts
export interface ApiResponse<T = any> {
  code: number;
  message: string;
  data: T;
}

export interface PaginationParams {
  page?: number;
  pageSize?: number;
}

export interface PaginationResponse<T> {
  list: T[];
  total: number;
  page: number;
  pageSize: number;
}
```

---

## ğŸ“¡ åç«¯ API æ¥å£æ–‡æ¡£

### åŸºç¡€ä¿¡æ¯

**åŸºç¡€URL**: `http://localhost:8080`

**ç»Ÿä¸€å“åº”æ ¼å¼**:

```typescript
interface ApiResponse<T = any> {
  code: number; // çŠ¶æ€ç 
  message: string; // å“åº”æ¶ˆæ¯
  data: T; // å“åº”æ•°æ®
}
```

**è®¤è¯æ–¹å¼**:

- JWT Tokenï¼ˆæ”¾åœ¨ HTTP Header ä¸­ï¼‰ï¼š`Authorization: Bearer <access_token>`
- RefreshTokenï¼ˆè‡ªåŠ¨å­˜å‚¨åœ¨ HttpOnly Cookie ä¸­ï¼‰

**çŠ¶æ€ç è¯´æ˜**:
| çŠ¶æ€ç  | è¯´æ˜ |
|--------|------|
| 2000 | æ“ä½œæˆåŠŸ |
| 4000 | è¯·æ±‚å‚æ•°é”™è¯¯ |
| 4010 | æœªæˆæƒï¼ˆæœªç™»å½•æˆ– Token æ— æ•ˆï¼‰ |
| 4011 | Token å·²è¿‡æœŸ |
| 4012 | Token æ ¼å¼é”™è¯¯ |
| 4013 | Token æ— æ•ˆ |
| 4014 | ç”¨æˆ·ä¸å­˜åœ¨ |
| 4015 | ç”¨æˆ·å·²è¢«å†»ç»“ |
| 4230 | ç¦æ­¢è®¿é—®ï¼ˆæƒé™ä¸è¶³ï¼‰ |
| 4290 | è¯·æ±‚è¿‡äºé¢‘ç¹ï¼ˆé™æµï¼‰ |
| 5000 | æœåŠ¡å™¨å†…éƒ¨é”™è¯¯ |

---

### å…¬å…±æ¥å£ï¼ˆæ— éœ€è®¤è¯ï¼‰

#### 1. è·å–éªŒè¯ç 

**æ¥å£è·¯å¾„**: `POST /base/captcha`

**æ¥å£ä½œç”¨**: ç”Ÿæˆå›¾å½¢éªŒè¯ç ï¼Œç”¨äºæ³¨å†Œã€ç™»å½•ç­‰æ“ä½œ

**è¯·æ±‚å‚æ•°**: æ— 

**è¿”å›å‚æ•°**:

```typescript
{
  code: 2000,
  message: "éªŒè¯ç ç”ŸæˆæˆåŠŸ",
  data: {
    captcha_id: string      // éªŒè¯ç  ID
    pic_path: string        // éªŒè¯ç å›¾ç‰‡çš„ base64 ç¼–ç 
  }
}
```

---

#### 2. ç”¨æˆ·æ³¨å†Œ

**æ¥å£è·¯å¾„**: `POST /user/register`

**æ¥å£ä½œç”¨**: æ–°ç”¨æˆ·æ³¨å†Œï¼Œæ³¨å†ŒæˆåŠŸåè‡ªåŠ¨ç™»å½•

**è¯·æ±‚å‚æ•°**:

```typescript
{
  username: string         // ç”¨æˆ·åï¼ˆå¿…å¡«ï¼Œæœ€å¤§ 20 ä½ï¼‰
  password: string         // å¯†ç ï¼ˆå¿…å¡«ï¼Œ8-16 ä½ï¼‰
  phone: string            // æ‰‹æœºå·ï¼ˆå¿…å¡«ï¼Œ11 ä½ï¼‰
  captcha: string          // å›¾å½¢éªŒè¯ç ï¼ˆå¿…å¡«ï¼Œ6 ä½ï¼‰
  captcha_id: string       // å›¾å½¢éªŒè¯ç  IDï¼ˆå¿…å¡«ï¼‰
  org_id?: number          // ç»„ç»‡ IDï¼ˆå¯é€‰ï¼‰
}
```

**è¿”å›å‚æ•°**:

```typescript
{
  code: 2000,
  message: "ç™»å½•æˆåŠŸ",
  data: {
    user: {
      id: number
      uuid: string
      username: string
      phone: string
      email: string
      avatar: string
      address: string
      signature: string
      freeze: boolean
      current_org_id: number
      created_at: string
      updated_at: string
    },
    access_token: string
    access_token_expires_at: number
  }
}
```

---

#### 3. ç”¨æˆ·ç™»å½•

**æ¥å£è·¯å¾„**: `POST /user/login`

**æ¥å£ä½œç”¨**: ç”¨æˆ·é€šè¿‡æ‰‹æœºå·å’Œå¯†ç ç™»å½•

**è¯·æ±‚å‚æ•°**:

```typescript
{
  phone: string; // æ‰‹æœºå·ï¼ˆå¿…å¡«ï¼Œ11 ä½ï¼‰
  password: string; // å¯†ç ï¼ˆå¿…å¡«ï¼Œ8-16 ä½ï¼‰
  captcha: string; // å›¾å½¢éªŒè¯ç ï¼ˆå¿…å¡«ï¼Œ6 ä½ï¼‰
  captcha_id: string; // å›¾å½¢éªŒè¯ç  IDï¼ˆå¿…å¡«ï¼‰
}
```

**è¿”å›å‚æ•°**:

```typescript
{
  code: 2000,
  message: "ç™»å½•æˆåŠŸ",
  data: {
    user: {
      id: number
      uuid: string
      username: string
      phone: string
      email: string
      avatar: string
      address: string
      signature: string
      freeze: boolean
      current_org_id: number
      created_at: string
      updated_at: string
    },
    access_token: string
    access_token_expires_at: number
  }
}
```

---

#### 4. è·å–ç»„ç»‡åˆ—è¡¨

**æ¥å£è·¯å¾„**: `GET /org/list`

**æ¥å£ä½œç”¨**: è·å–ç»„ç»‡åˆ—è¡¨ï¼Œæ”¯æŒåˆ†é¡µæŸ¥è¯¢

**è¯·æ±‚å‚æ•°**:

```
?page=1&page_size=10
```

| å‚æ•°      | ç±»å‹   | å¿…å¡« | è¯´æ˜                                                    |
| --------- | ------ | ---- | ------------------------------------------------------- |
| page      | number | å¦   | é¡µç ï¼Œé»˜è®¤ 1ã€‚å¦‚æœä¸º 0 æˆ–ä¸ä¼ ï¼Œåˆ™è¿”å›æ‰€æœ‰æ•°æ®ï¼ˆä¸åˆ†é¡µï¼‰ |
| page_size | number | å¦   | æ¯é¡µæ•°é‡ï¼Œé»˜è®¤ 10                                       |

**è¿”å›å‚æ•°**:

```typescript
{
  code: 2000,
  message: "è·å–æˆåŠŸ",
  data: {
    list: [
      {
        id: number              // ç»„ç»‡ ID
        name: string            // ç»„ç»‡åç§°
        description: string     // ç»„ç»‡æè¿°
        code: string            // åŠ å…¥é‚€è¯·ç 
        owner_id: number        // åˆ›å»ºè€… ID
        created_at: string      // åˆ›å»ºæ—¶é—´
        updated_at: string      // æ›´æ–°æ—¶é—´
      }
    ],
    total: number  // æ€»è®°å½•æ•°ï¼ˆä»…åœ¨åˆ†é¡µæ—¶æœ‰æ•ˆï¼‰
  }
}
```

---

#### 5. åˆ·æ–° Token

**æ¥å£è·¯å¾„**: `GET /refreshToken`

**æ¥å£ä½œç”¨**: ä½¿ç”¨ RefreshToken åˆ·æ–° AccessToken

**è¯·æ±‚å‚æ•°**: RefreshToken ä» Cookie ä¸­è‡ªåŠ¨è·å–ï¼ˆHttpOnlyï¼‰

**è¿”å›å‚æ•°**:

```typescript
{
  code: 2000,
  message: "åˆ·æ–°æˆåŠŸ",
  data: {
    access_token: string            // æ–°çš„è®¿é—®ä»¤ç‰Œ
    access_token_expires_at: number  // è®¿é—®ä»¤ç‰Œè¿‡æœŸæ—¶é—´ï¼ˆæ¯«ç§’æ—¶é—´æˆ³ï¼‰
  }
}
```

**é”™è¯¯è¿”å›**:

```typescript
{
  code: 4010,
  message: "token is blacklist",
  data: {
    message: string
    reload: boolean    // æ˜¯å¦éœ€è¦é‡æ–°åŠ è½½é¡µé¢ï¼ˆtrue è¡¨ç¤ºéœ€è¦ï¼‰
  }
}
```

---

### ä¸šåŠ¡æ¥å£ï¼ˆéœ€è¦ JWT è®¤è¯ï¼‰

#### 6. ç”¨æˆ·ç™»å‡º

**æ¥å£è·¯å¾„**: `POST /user/logout`

**æ¥å£ä½œç”¨**: ç”¨æˆ·é€€å‡ºç™»å½•ï¼Œæ¸…é™¤ç™»å½•çŠ¶æ€

**è¯·æ±‚å¤´**:

```
Authorization: Bearer <access_token>
```

**è¯·æ±‚å‚æ•°**: æ— 

**è¿”å›å‚æ•°**:

```typescript
{
  code: 2000,
  message: "ç™»å‡ºæˆåŠŸ",
  data: {
    message: "å·²æˆåŠŸé€€å‡ºç™»å½•"
  }
}
```

---

#### 7. ç»‘å®š OJ è´¦å·

**æ¥å£è·¯å¾„**: `POST /oj/bind`

**æ¥å£ä½œç”¨**: ç»‘å®šç”¨æˆ·çš„æ´›è°·æˆ–åŠ›æ‰£è´¦å·ï¼Œè·å–ç”¨æˆ·åœ¨å¯¹åº”å¹³å°çš„åˆ·é¢˜ä¿¡æ¯

**è¯·æ±‚å¤´**:

```
Authorization: Bearer <access_token>
```

**è¯·æ±‚å‚æ•°**:

```typescript
{
  platform: string; // å¹³å°åç§°ï¼ˆå¿…å¡«ï¼Œå¯é€‰å€¼ï¼šleetcodeã€luoguï¼‰
  identifier: string; // å¹³å°ç”¨æˆ· IDï¼ˆå¿…å¡«ï¼‰
}
```

**è¿”å›å‚æ•°**:

```typescript
{
  code: 2000,
  message: "ç»‘å®šæˆåŠŸ",
  data: {
    platform: string          // å¹³å°åç§°
    identifier: string        // å¹³å°ç”¨æˆ· ID
    real_name: string         // çœŸå®å§“å
    user_avatar: string       // ç”¨æˆ·å¤´åƒ URL
    easy_number: number       // ç®€å•é¢˜æ•°é‡ï¼ˆå¯é€‰ï¼‰
    medium_number: number     // ä¸­ç­‰é¢˜æ•°é‡ï¼ˆå¯é€‰ï¼‰
    hard_number: number       // å›°éš¾é¢˜æ•°é‡ï¼ˆå¯é€‰ï¼‰
    total_number: number      // æ€»é¢˜ç›®æ•°é‡ï¼ˆå¯é€‰ï¼‰
    passed_number: number     // é€šè¿‡çš„é¢˜ç›®æ•°é‡ï¼ˆå¯é€‰ï¼‰
  }
}
```

---

#### 8. è·å–ç”¨æˆ· OJ å¡ç‰‡ä¿¡æ¯

**æ¥å£è·¯å¾„**: `GET /oj/stats`

**æ¥å£ä½œç”¨**: è·å–ç”¨æˆ·åœ¨æŒ‡å®šå¹³å°çš„ OJ ä¿¡æ¯ï¼ˆç»‘å®šçŠ¶æ€ã€åˆ·é¢˜æ•°æ®ç­‰ï¼‰

**è¯·æ±‚å¤´**:

```
Authorization: Bearer <access_token>
```

**è¯·æ±‚å‚æ•°**:

```
?platform=luogu
```

| å‚æ•°     | ç±»å‹   | å¿…å¡« | è¯´æ˜                              |
| -------- | ------ | ---- | --------------------------------- |
| platform | string | æ˜¯   | å¹³å°åç§°ï¼Œå¯é€‰å€¼ï¼šluoguã€leetcode |

**è¿”å›å‚æ•°**:

```typescript
{
  code: 200,
  msg: "success",
  data: {
    platform: string          // å¹³å°åç§°
    identifier: string        // å¹³å°ç”¨æˆ· ID
    real_name: string         // çœŸå®å§“å
    user_avatar: string       // ç”¨æˆ·å¤´åƒ URL
    passed_number: number     // é€šè¿‡çš„é¢˜ç›®æ•°é‡
  }
}
```

---

#### 9. ç»„ç»‡å†…åšé¢˜æ’è¡Œæ¦œ

**æ¥å£è·¯å¾„**: `GET /oj/luogu/ranking_list`

**æ¥å£ä½œç”¨**: è·å–ç»„ç»‡å†…ç”¨æˆ·çš„åˆ·é¢˜æ’è¡Œæ¦œ

**è¯·æ±‚å¤´**:

```
Authorization: Bearer <access_token>
```

**è¯·æ±‚å‚æ•°**:

```typescript
{
  platform: string    // å¹³å°åç§°ï¼ˆluoguã€leetcodeï¼‰
  page?: number       // é¡µç ï¼Œé»˜è®¤ 1
  page_size?: number  // æ¯é¡µæ•°é‡ï¼Œé»˜è®¤ 20
}
```

**è¿”å›å‚æ•°**:

```typescript
{
  code: 200,
  msg: "success",
  data: {
    list: [
      {
        rank: number              // æ’å
        user_id: number           // ç”¨æˆ· ID
        real_name: string         // çœŸå®å§“å
        avatar: string            // å¤´åƒ URL
        total_passed: number      // æ€»é€šè¿‡é¢˜æ•°
        platform_details: {
          [platform: string]: number  // å„å¹³å°é€šè¿‡é¢˜æ•°
        }
      }
    ],
    my_rank: {
      rank: number              // å½“å‰ç”¨æˆ·æ’å
      total_passed: number      // å½“å‰ç”¨æˆ·é€šè¿‡é¢˜æ•°
    },
    total: number              // æ€»è®°å½•æ•°
  }
}
```

---

### Token åˆ·æ–°æµç¨‹

1. **AccessToken è¿‡æœŸæ—¶**ï¼š
   - å‰ç«¯è‡ªåŠ¨è°ƒç”¨ `GET /refreshToken`
   - RefreshToken ä» HttpOnly Cookie ä¸­è‡ªåŠ¨æºå¸¦
   - è·å–æ–°çš„ AccessToken
   - æ›´æ–°æœ¬åœ°å­˜å‚¨
   - é‡è¯•åŸè¯·æ±‚

2. **RefreshToken è¿‡æœŸæˆ–å¤±æ•ˆæ—¶**ï¼š
   - è¿”å› `reload: true`
   - å‰ç«¯æ¸…é™¤æœ¬åœ°å­˜å‚¨
   - è·³è½¬åˆ°ç™»å½•é¡µ
   - ç”¨æˆ·éœ€è¦é‡æ–°ç™»å½•

---

## ğŸ¨ Tailwind é…ç½®

```javascript
// tailwind.config.js
/** @type {import('tailwindcss').Config} */
export default {
  content: ["./index.html", "./src/**/*.{vue,js,ts,jsx,tsx}"],
  theme: {
    extend: {
      colors: {
        primary: {
          DEFAULT: "#1890FF",
          hover: "#40A9FF",
          active: "#096DD9",
        },
        success: "#52C41A",
        warning: "#FAAD14",
        error: "#F5222D",
        text: {
          primary: "#262626",
          secondary: "#595959",
          tertiary: "#8C8C8C",
        },
        border: "#D9D9D9",
        background: "#F5F5F5",
      },
      borderRadius: {
        card: "12px",
        button: "6px",
        input: "6px",
      },
      boxShadow: {
        card: "0 2px 8px rgba(0,0,0,0.08)",
        hover: "0 4px 16px rgba(0,0,0,0.12)",
      },
      animation: {
        flip: "flip 0.6s ease-in-out",
        "fade-in": "fadeIn 0.3s ease-out",
      },
      keyframes: {
        flip: {
          "0%": { transform: "rotateY(0deg)" },
          "100%": { transform: "rotateY(180deg)" },
        },
        fadeIn: {
          "0%": { opacity: "0" },
          "100%": { opacity: "1" },
        },
      },
    },
  },
  plugins: [],
};
```

---

## ğŸ“¦ å¼€å‘æµç¨‹

### 1. ç¯å¢ƒå‡†å¤‡

```bash
# åˆ›å»ºé¡¹ç›®
npm create vite@latest algorithm-platform -- --template vue-ts
cd algorithm-platform

# å®‰è£…ä¾èµ–
npm install

# å®‰è£… Tailwind CSS
npm install -D tailwindcss postcss autoprefixer
npx tailwindcss init -p

# å®‰è£…é¢å¤–ä¾èµ–
npm install vue-router@4 pinia axios
npm install @vueuse/core  # Vue å·¥å…·åº“

# å¼€å‘ä¾èµ–
npm install -D @types/node
npm install -D eslint prettier @typescript-eslint/parser @typescript-eslint/eslint-plugin
npm install -D unplugin-auto-import unplugin-vue-components  # è‡ªåŠ¨å¯¼å…¥
```

### 2. é…ç½®æ–‡ä»¶

#### Vite é…ç½®

```typescript
// vite.config.ts
import { defineConfig } from "vite";
import vue from "@vitejs/plugin-vue";
import AutoImport from "unplugin-auto-import/vite";
import Components from "unplugin-vue-components/vite";
import { resolve } from "path";

export default defineConfig({
  plugins: [
    vue(),
    AutoImport({
      imports: ["vue", "vue-router", "pinia"],
      dts: "src/auto-imports.d.ts",
    }),
    Components({
      dts: "src/components.d.ts",
    }),
  ],
  resolve: {
    alias: {
      "@": resolve(__dirname, "src"),
    },
  },
  server: {
    port: 3000,
    proxy: {
      "/api": {
        target: "http://localhost:8080",
        changeOrigin: true,
        rewrite: (path) => path.replace(/^\/api/, ""),
      },
    },
  },
});
```

#### TypeScript é…ç½®

```json
// tsconfig.json
{
  "compilerOptions": {
    "target": "ES2020",
    "useDefineForClassFields": true,
    "module": "ESNext",
    "lib": ["ES2020", "DOM", "DOM.Iterable"],
    "skipLibCheck": true,
    "moduleResolution": "bundler",
    "allowImportingTsExtensions": true,
    "resolveJsonModule": true,
    "isolatedModules": true,
    "noEmit": true,
    "jsx": "preserve",
    "strict": true,
    "noUnusedLocals": true,
    "noUnusedParameters": true,
    "noFallthroughCasesInSwitch": true,
    "baseUrl": ".",
    "paths": {
      "@/*": ["src/*"]
    }
  },
  "include": ["src/**/*.ts", "src/**/*.d.ts", "src/**/*.tsx", "src/**/*.vue"],
  "references": [{ "path": "./tsconfig.node.json" }]
}
```

### 3. å¼€å‘å‘½ä»¤

```bash
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev

# ç±»å‹æ£€æŸ¥
npm run type-check

# ä»£ç æ£€æŸ¥
npm run lint

# ä»£ç æ ¼å¼åŒ–
npm run format

# æ„å»º
npm run build

# é¢„è§ˆæ„å»ºç»“æœ
npm run preview
```

---

## ğŸš€ å¼€å‘ä¼˜å…ˆçº§

### Phase 1: é¡¹ç›®åˆå§‹åŒ–ï¼ˆç¬¬1å¤©ï¼‰

- [x] åˆ›å»º Vite + Vue3 + TS é¡¹ç›®
- [x] é…ç½® Tailwind CSS
- [x] é…ç½®è·¯ç”±ï¼ˆVue Routerï¼‰
- [x] é…ç½®çŠ¶æ€ç®¡ç†ï¼ˆPiniaï¼‰
- [x] é…ç½® Axios è¯·æ±‚å°è£…
- [x] åˆ›å»ºåŸºç¡€é¡¹ç›®ç»“æ„

### Phase 2: å…¬å…±ç»„ä»¶ï¼ˆç¬¬2-3å¤©ï¼‰

- [x] Button ç»„ä»¶
- [x] Input ç»„ä»¶
- [x] Modal ç»„ä»¶
- [x] Loading ç»„ä»¶
- [x] Message ç»„ä»¶

### Phase 3: è®¤è¯æ¨¡å—ï¼ˆç¬¬4-5å¤©ï¼‰

- [x] ç™»å½•é¡µé¢
- [x] æ³¨å†Œé¡µé¢
- [x] è·¯ç”±å®ˆå«
- [x] Token ç®¡ç†
- [x] éªŒè¯ç ç»„ä»¶

### Phase 4: æ ¸å¿ƒåŠŸèƒ½ï¼ˆç¬¬6-8å¤©ï¼‰

- [ ] é¦–é¡µå¸ƒå±€
- [ ] è½®æ’­èƒŒæ™¯ç»„ä»¶
- [ ] Header Bar ç»„ä»¶
- [ ] æ´›è°·å¡ç‰‡ï¼ˆæ­£é¢è¾“å…¥ + åé¢å±•ç¤ºï¼‰
- [ ] åŠ›æ‰£å¡ç‰‡ï¼ˆæ­£é¢è¾“å…¥ + åé¢å±•ç¤ºï¼‰
- [ ] æ’è¡Œæ¦œå¡ç‰‡ï¼ˆæ´›è°· + åŠ›æ‰£ç¿»è½¬ï¼‰
- [ ] å¡ç‰‡ç¿»è½¬åŠ¨ç”»

### Phase 5: ä¼˜åŒ–ä¸æµ‹è¯•ï¼ˆç¬¬9-10å¤©ï¼‰

- [ ] å“åº”å¼é€‚é…
- [ ] æ€§èƒ½ä¼˜åŒ–
- [ ] é”™è¯¯å¤„ç†å®Œå–„
- [ ] å•å…ƒæµ‹è¯•
- [ ] E2E æµ‹è¯•

---

## âš ï¸ æ³¨æ„äº‹é¡¹

### ç¦æ­¢äº‹é¡¹

1. **ç¦æ­¢ä½¿ç”¨ `any` ç±»å‹**

   ```typescript
   // âŒ é”™è¯¯
   const data: any = await api.getUser();

   // âœ… æ­£ç¡®
   const data: User = await api.getUser();
   ```

2. **ç¦æ­¢å¿½ç•¥ç±»å‹é”™è¯¯**
   - ä½¿ç”¨ `// @ts-ignore` æˆ– `// @ts-expect-error` å¿…é¡»è¯´æ˜åŸå› 

3. **ç¦æ­¢åœ¨ç»„ä»¶ä¸­ç›´æ¥è°ƒç”¨ API**

   ```typescript
   // âŒ é”™è¯¯ï¼šç»„ä»¶ä¸­ç›´æ¥è°ƒç”¨ axios
   import axios from "axios";
   const data = await axios.get("/api/user");

   // âœ… æ­£ç¡®ï¼šä½¿ç”¨ Service å±‚
   import { userService } from "@/services/user.service";
   const data = await userService.getCurrentUser();
   ```

4. **ç¦æ­¢ç¡¬ç¼–ç é…ç½®**

   ```typescript
   // âŒ é”™è¯¯
   const apiUrl = "http://localhost:8080";

   // âœ… æ­£ç¡®
   const apiUrl = import.meta.env.VITE_API_BASE_URL;
   ```

### å¿…é¡»éµå®ˆ

1. **æ‰€æœ‰å¼‚æ­¥æ“ä½œå¿…é¡»åŒ…å« try-catch**

   ```typescript
   async function fetchData() {
     try {
       const data = await api.getData();
       return data;
     } catch (error) {
       console.error("è·å–æ•°æ®å¤±è´¥:", error);
       throw error; // é‡æ–°æŠ›å‡ºæˆ–å¤„ç†é”™è¯¯
     }
   }
   ```

2. **ç»„ä»¶ Props å¿…é¡»å®šä¹‰ç±»å‹**

   ```typescript
   interface Props {
     title: string;
     count?: number;
   }
   const props = withDefaults(defineProps<Props>(), {
     count: 0,
   });
   ```

3. **API è¯·æ±‚å¿…é¡»ä½¿ç”¨ Service å±‚**

   ```typescript
   // services/xxx.service.ts
   export const xxxService = {
     async getData() {
       // API è°ƒç”¨é€»è¾‘
     },
   };
   ```

4. **å¤æ‚çŠ¶æ€ä½¿ç”¨ Pinia ç®¡ç†**
   ```typescript
   // stores/xxx.ts
   export const useXxxStore = defineStore("xxx", () => {
     // çŠ¶æ€é€»è¾‘
   });
   ```

---

## ğŸ” ä»£ç å®¡æŸ¥è§„èŒƒ

æ‰€æœ‰ä»£ç æäº¤å‰å¿…é¡»ç»è¿‡ Code Reviewï¼Œå®¡æŸ¥å†…å®¹åŒ…æ‹¬ï¼š

### 1. å‘½åæ˜¯å¦ç¬¦åˆé¢†åŸŸè¯­è¨€

**æ£€æŸ¥è¦ç‚¹**ï¼š

- âœ… å˜é‡åã€å‡½æ•°åã€ç»„ä»¶åæ˜¯å¦ç¬¦åˆä¸šåŠ¡é¢†åŸŸè¯­è¨€
- âœ… æ˜¯å¦ä½¿ç”¨ä¸“ä¸šæœ¯è¯­è€ŒéæŠ€æœ¯å®ç°ç»†èŠ‚
- âœ… å‘½åæ˜¯å¦æ¸…æ™°è¡¨è¾¾æ„å›¾ï¼Œæ— éœ€é¢å¤–æ³¨é‡Š

**ç¤ºä¾‹**ï¼š

```typescript
// âœ… æ­£ç¡® - ç¬¦åˆé¢†åŸŸè¯­è¨€
const submitOrder = () => {};
const userId = ref(0);
const isLoggedIn = computed(() => !!user.value);

// âŒ é”™è¯¯ - æŠ€æœ¯å®ç°ç»†èŠ‚å‘½å
const submitData = () => {};
const uData = ref(0);
const checkLogin = computed(() => !!user.value);
```

### 2. æ˜¯å¦éµå¾ªé¡¹ç›®åˆ†å±‚ç»“æ„

**æ£€æŸ¥è¦ç‚¹**ï¼š

- âœ… è§†å›¾å±‚ï¼ˆViewsï¼‰åªè´Ÿè´£ UI æ¸²æŸ“å’Œç”¨æˆ·äº¤äº’
- âœ… ä¸šåŠ¡é€»è¾‘åœ¨ Composables æˆ– Store ä¸­
- âœ… API è°ƒç”¨ç»Ÿä¸€åœ¨ Service å±‚
- âœ… ç±»å‹å®šä¹‰åœ¨ types ç›®å½•
- âœ… å·¥å…·å‡½æ•°åœ¨ utils ç›®å½•

**ç¤ºä¾‹**ï¼š

```typescript
// âœ… æ­£ç¡® - éµå¾ªåˆ†å±‚ç»“æ„
// views/Auth/LoginView.vue - è§†å›¾å±‚
import { useAuthStore } from "@/stores";
import { authService } from "@/services";

// services/auth.service.ts - æœåŠ¡å±‚
export const login = (data: LoginRequest) =>
  apiClient.post("/user/login", data);

// stores/auth.ts - çŠ¶æ€ç®¡ç†å±‚
export const useAuthStore = defineStore("auth", () => {
  const login = async (phone: string, password: string) => {
    // ä¸šåŠ¡é€»è¾‘
  };
});

// âŒ é”™è¯¯ - è§†å›¾å±‚ç›´æ¥è°ƒç”¨ API
import axios from "axios";
const data = await axios.post("/api/login", { phone, password });
```

### 3. æ˜¯å¦æœ‰å†—ä½™æˆ–ç¡¬ç¼–ç 

**æ£€æŸ¥è¦ç‚¹**ï¼š

- âœ… æ˜¯å¦æœ‰é‡å¤çš„ä»£ç é€»è¾‘
- âœ… æ˜¯å¦æœ‰é‡å¤çš„æ ·å¼å®šä¹‰
- âœ… æ˜¯å¦å­˜åœ¨å¯å¤ç”¨ä½†æœªå°è£…çš„ç»„ä»¶
- âœ… é…ç½®æ˜¯å¦ä½¿ç”¨ç¯å¢ƒå˜é‡
- âœ… é­”æ³•æ•°å­—æ˜¯å¦æå–ä¸ºå¸¸é‡

**ç¤ºä¾‹**ï¼š

```typescript
// âœ… æ­£ç¡® - ä½¿ç”¨ç¯å¢ƒå˜é‡å’Œå¸¸é‡
const API_BASE_URL = import.meta.env.VITE_API_BASE_URL;
const MAX_LOGIN_ATTEMPTS = 3;
const CAPTCHA_LENGTH = 6;

// âŒ é”™è¯¯ - ç¡¬ç¼–ç 
const apiUrl = "http://localhost:8080";
if (attempts >= 3) {
}
if (code.length === 6) {
}

// âœ… æ­£ç¡® - æå–é‡å¤é€»è¾‘ä¸ºç»„ä»¶
import { BackgroundCarousel } from "@/components/layout";

// âŒ é”™è¯¯ - é‡å¤çš„è½®æ’­èƒŒæ™¯ä»£ç åœ¨æ¯ä¸ªé¡µé¢éƒ½å†™ä¸€é
```

### 4. æ˜¯å¦æœ‰æµ‹è¯•è¦†ç›–

**æ£€æŸ¥è¦ç‚¹**ï¼š

- âœ… æ ¸å¿ƒä¸šåŠ¡é€»è¾‘æ˜¯å¦æœ‰å•å…ƒæµ‹è¯•
- âœ… å·¥å…·å‡½æ•°æ˜¯å¦æœ‰æµ‹è¯•ç”¨ä¾‹
- âœ… ç»„ä»¶æ˜¯å¦æœ‰åŸºç¡€æµ‹è¯•
- âœ… API è°ƒç”¨æ˜¯å¦æœ‰ Mock æµ‹è¯•
- âœ… æµ‹è¯•è¦†ç›–ç‡æ˜¯å¦è¾¾åˆ°è¦æ±‚

**æµ‹è¯•è¦æ±‚**ï¼š

```typescript
// å·¥å…·å‡½æ•°å¿…é¡»æœ‰æµ‹è¯•
// utils/validate.test.ts
import { validatePhone, validatePassword } from "../validate";

describe("validatePhone", () => {
  it("should validate correct phone number", () => {
    expect(validatePhone("13800138000")).toBe(true);
  });

  it("should reject invalid phone number", () => {
    expect(validatePhone("12345")).toBe(false);
  });
});

// ç»„ä»¶æµ‹è¯•
// components/common/Button/Button.test.ts
import { mount } from "@vue/test-utils";
import Button from "./Button.vue";

describe("Button", () => {
  it("renders button text", () => {
    const wrapper = mount(Button, { slots: { default: "Click me" } });
    expect(wrapper.text()).toContain("Click me");
  });

  it("emits click event", async () => {
    const wrapper = mount(Button);
    await wrapper.trigger("click");
    expect(wrapper.emitted("click")).toBeTruthy();
  });
});
```

### ä»£ç å®¡æŸ¥æ¸…å•

æäº¤ä»£ç å‰ï¼Œè¯·ç¡®è®¤ä»¥ä¸‹å†…å®¹ï¼š

#### ä»£ç è´¨é‡

- [ ] ä»£ç é€šè¿‡ ESLint æ£€æŸ¥ï¼ˆæ— è­¦å‘Šï¼‰
- [ ] ä»£ç é€šè¿‡ TypeScript ç±»å‹æ£€æŸ¥
- [ ] ä»£ç é€šè¿‡ Prettier æ ¼å¼åŒ–
- [ ] æ²¡æœ‰æ³¨é‡Šæ‰çš„ä»£ç æˆ–è°ƒè¯•ä»£ç 
- [ ] æ²¡æœ‰ console.log æˆ– debugger

#### å‘½åè§„èŒƒ

- [ ] å˜é‡ã€å‡½æ•°åä½¿ç”¨ camelCase
- [ ] ç»„ä»¶åä½¿ç”¨ PascalCase
- [ ] å¸¸é‡ä½¿ç”¨ UPPER_SNAKE_CASE
- [ ] ç±»å‹/æ¥å£ä½¿ç”¨ PascalCase
- [ ] å¸ƒå°”å€¼ä½¿ç”¨ is/has/should å‰ç¼€

#### ä»£ç ç»“æ„

- [ ] éµå¾ªé¡¹ç›®åˆ†å±‚ç»“æ„
- [ ] å•ä¸ªæ–‡ä»¶ä¸è¶…è¿‡ 300 è¡Œ
- [ ] å•ä¸ªå‡½æ•°ä¸è¶…è¿‡ 50 è¡Œ
- [ ] åµŒå¥—å±‚çº§ä¸è¶…è¿‡ 3 å±‚
- [ ] å¾ªç¯å¤æ‚åº¦ä¸è¶…è¿‡ 10

#### æ€§èƒ½ä¼˜åŒ–

- [ ] å¤§åˆ—è¡¨ä½¿ç”¨è™šæ‹Ÿæ»šåŠ¨
- [ ] å›¾ç‰‡ä½¿ç”¨æ‡’åŠ è½½
- [ ] é¿å…ä¸å¿…è¦çš„å“åº”å¼æ•°æ®
- [ ] åˆç†ä½¿ç”¨ computed ç¼“å­˜
- [ ] ç»„ä»¶æŒ‰éœ€åŠ è½½

#### å¯ç»´æŠ¤æ€§

- [ ] å…³é”®é€»è¾‘æœ‰æ³¨é‡Šè¯´æ˜
- [ ] å¤æ‚ç®—æ³•æœ‰æ–‡æ¡£è¯´æ˜
- [ ] æ²¡æœ‰é­”æ³•æ•°å­—
- [ ] é…ç½®ä½¿ç”¨ç¯å¢ƒå˜é‡
- [ ] é”™è¯¯å¤„ç†å®Œå–„

---

## ğŸ“ å¼€å‘æ—¥å¿—

### å½“å‰ç‰ˆæœ¬ï¼šv0.4.0 (2025-01-19)

**å·²å®Œæˆ**ï¼š

- âœ… é¡¹ç›®éœ€æ±‚æ–‡æ¡£
- âœ… UI è®¾è®¡è§„èŒƒ
- âœ… æŠ€æœ¯é€‰å‹ç¡®å®š
- âœ… é¡¹ç›®ç»“æ„è§„åˆ’
- âœ… é¡¹ç›®åˆå§‹åŒ–å®Œæˆï¼ˆVite + Vue3 + TS + Tailwind CSSï¼‰
- âœ… å…¬å…±ç»„ä»¶å°è£…å®Œæˆ
  - Button æŒ‰é’®ï¼ˆ5ç§ç±»å‹ã€3ç§å°ºå¯¸ã€å¤šç§çŠ¶æ€ï¼‰
  - Input è¾“å…¥æ¡†ï¼ˆ5ç§ç±»å‹ã€3ç§å°ºå¯¸ã€æ¸…é™¤/å¯†ç /å›¾æ ‡æ”¯æŒï¼‰
  - Modal å¼¹çª—ï¼ˆ4ç§å°ºå¯¸ã€è‡ªå®šä¹‰æŒ‰é’®ã€é®ç½©æ§åˆ¶ï¼‰
  - Loading åŠ è½½ï¼ˆ3ç§ç±»å‹ã€3ç§å°ºå¯¸ã€å…¨å±æ”¯æŒï¼‰
  - Message æ¶ˆæ¯æç¤ºï¼ˆ4ç§ç±»å‹ã€å‡½æ•°å¼è°ƒç”¨ï¼‰
- âœ… ç»„ä»¶ä½¿ç”¨æ–‡æ¡£å®Œæˆ
- âœ… è®¤è¯æ¨¡å—å¼€å‘å®Œæˆ
  - Captcha éªŒè¯ç ç»„ä»¶ï¼ˆè‡ªåŠ¨è·å–ã€ç‚¹å‡»åˆ·æ–°ã€Base64æ˜¾ç¤ºï¼‰
  - Auth Store è®¤è¯çŠ¶æ€ç®¡ç†ï¼ˆç™»å½•/ç™»å‡ºã€Tokenç®¡ç†ã€è‡ªåŠ¨æ¢å¤ï¼‰
  - LoginView ç™»å½•é¡µé¢ï¼ˆè¡¨å•éªŒè¯ã€èƒŒæ™¯è½®æ’­ã€ç”¨æˆ·åè®®ï¼‰
  - RegisterView æ³¨å†Œé¡µé¢ï¼ˆå®Œæ•´è¡¨å•ã€ç»„ç»‡é€‰æ‹©ã€è‡ªåŠ¨ç™»å½•ï¼‰
  - è·¯ç”±å®ˆå«ï¼ˆè®¤è¯æ£€æŸ¥ã€è‡ªåŠ¨è·³è½¬ã€è·¯å¾„ä¿å­˜ï¼‰
  - API æ¥å£ä¿®æ­£ï¼ˆç±»å‹å®šä¹‰ã€è¿”å›ç»“æ„ã€å‚æ•°å¤„ç†ï¼‰
- âœ… **ä»£ç å®¡æŸ¥ä¸ä¼˜åŒ–å®Œæˆ**ï¼ˆv0.4.0ï¼‰
  - åˆ›å»º `BackgroundCarousel` ç»„ä»¶ï¼Œæ¶ˆé™¤ ~400 è¡Œé‡å¤ä»£ç 
  - æ–‡ä»¶è¡Œæ•°ä¼˜åŒ–ï¼šLoginView 360â†’298 è¡Œï¼ŒRegisterView 454â†’392 è¡Œ
  - åˆ›å»º `constants/validation.ts` å¸¸é‡æ–‡ä»¶ï¼Œæ¶ˆé™¤æ‰€æœ‰é­”æ³•æ•°å­—
  - å®Œå–„ `utils/validate.ts`ï¼Œæ–°å¢ 5 ä¸ªè¯¦ç»†éªŒè¯å‡½æ•°
  - æ›´æ–°ç»„ä»¶ä½¿ç”¨ç»Ÿä¸€éªŒè¯å‡½æ•°ï¼Œæå‡ä»£ç å¯ç»´æŠ¤æ€§
  - ç§»é™¤éå…³é”® Console è¯­å¥ï¼Œä¿ç•™è®¤è¯ç›¸å…³æ—¥å¿—ç”¨äºè°ƒè¯•

**ä¼˜åŒ–æˆæœ**ï¼š
| æŒ‡æ ‡ | ä¼˜åŒ–å‰ | ä¼˜åŒ–å | æ”¹è¿› |
|------|--------|--------|------|
| LoginView.vue | 360 è¡Œ | 298 è¡Œ | âœ… -17% (è¾¾æ ‡) |
| RegisterView.vue | 454 è¡Œ | 392 è¡Œ | âœ… -14% (æ¥è¿‘ç›®æ ‡) |
| é­”æ³•æ•°å­— | 6+ å¤„ | 0 å¤„ | âœ… 100% æ¶ˆé™¤ |
| ä»£ç é‡å¤ | ~400 è¡Œ | 0 è¡Œ | âœ… å®Œå…¨æ¶ˆé™¤ |
| éªŒè¯é€»è¾‘ | åˆ†æ•£åœ¨ç»„ä»¶ | ç»Ÿä¸€å·¥å…·å‡½æ•° | âœ… é›†ä¸­ç®¡ç† |

**è¿›è¡Œä¸­**ï¼š

- ğŸ”„ æ ¸å¿ƒåŠŸèƒ½å¼€å‘ï¼ˆå‡†å¤‡ä¸­ï¼‰

**å¾…åŠ**ï¼š

- â³ æ ¸å¿ƒåŠŸèƒ½å¼€å‘
- â³ å•å…ƒæµ‹è¯•è¦†ç›–
- â³ E2E æµ‹è¯•

### å†å²ç‰ˆæœ¬

#### v0.2.0 (2025-01-19)

- å…¬å…±ç»„ä»¶å°è£…å®Œæˆ

#### v0.1.0 (2025-01-18)

- é¡¹ç›®åˆå§‹åŒ–
- åŸºç¡€é…ç½®å®Œæˆ

---

## ğŸ”— ç›¸å…³æ–‡æ¡£

- [éœ€æ±‚æ–‡æ¡£](./requirement.md)
- [UI éœ€æ±‚ä¸ä¼˜åŒ–è®°å½•](./UIéœ€æ±‚ä¸ä¼˜åŒ–è®°å½•.md)
- [AI å‰ç«¯å¼€å‘æç¤ºè¯](./AIå‰ç«¯å¼€å‘æç¤ºè¯æ–‡æ¡£.md)
- [AI Vue æ¨¡å—åŒ–å¼€å‘æç¤ºè¯](./AI-Vueæ¨¡å—åŒ–å¼€å‘æç¤ºè¯.md)
- [éœ€æ±‚å®šä¹‰é˜¶æ®µæ–‡æ¡£](./éœ€æ±‚å®šä¹‰é˜¶æ®µæ–‡æ¡£.md)
- [åç«¯ API æ–‡æ¡£](../../personal_assistant/README.md)

---

## ğŸ“ è”ç³»æ–¹å¼

å¦‚æœ‰ç–‘é—®ï¼Œè¯·å‚è€ƒæœ¬æ–‡æ¡£æˆ–æŸ¥çœ‹ç›¸å…³æ–‡æ¡£ã€‚

---

**æ–‡æ¡£ç‰ˆæœ¬**ï¼šv1.4.0
**æœ€åæ›´æ–°**ï¼š2025-01-19
**ç»´æŠ¤äºº**ï¼šClaude AI
